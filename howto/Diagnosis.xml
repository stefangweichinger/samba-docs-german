<?xml version="1.0" encoding="ISO-8859-1"?>
<chapter id="diagnosis">
<chapterinfo>
	&author.tridge;
	&author.jelmer;
	&author.danshearer;
	<pubdate>Wed Jan 15</pubdate>
	<author>&person.reiss;<contrib>Deutsche Übersetzung</contrib></author>
</chapterinfo>

<title>Die Samba-Checkliste</title>

<sect1>
<title>Einleitung</title>

<para>
Dieses Dokument beschreibt eine Reihe von Tests zur Überprüfung Ihres
Samba-Servers. Wenn bei den Tests Probleme festgestellt werden, bietet
es ferner Informationen über die möglichen Fehlerursachen.
Wurden alle Tests fehlerfrei durchgeführt, sollte alles einwandfrei
funktionieren.
</para>

<para>
Sie sollten alle Tests in der genannten Reihenfolge durchführen.
Wir haben sorgfältig versucht, die Reihenfolge so auszuwählen, 
dass nachfolgende Tests auf erfolgreich durchgeführte frühere Tests 
aufbauen.
Auch nachdem Sie einen Fehler behoben haben, sollten Sie immer alle
Tests komplett durchführen.
</para>

<para>
Wenn Sie eine E-Mail mit dem Inhalt
<quote>Es funktioniert nicht</quote> an eine der Samba-Mailinglisten schicken, ohne diese Tests
durchgeführt zu haben, so wundern Sie sich bitte nicht, wenn Ihre E-Mail
ingoriert wird.
</para>

</sect1>

<sect1>
<title>Vorbemerkung</title>

<para>
In allen Tests wird davon ausgegangen, dass Sie einen Samba-Server
BIGSERVER und einen PC ACLIENT haben, die sich in der Arbeitsgruppe
TESTGROUP befinden.
</para>

<para>
Das Vorgehen ist für andere Typen von Clients ähnlich.
</para>

<para>
Des Weiteren wird angenommen, dass Sie den Namen einer verfügbaren Freigabe in Ihrer
&smb.conf; kennen. Ich werde hier die Freigabe mit dem Namen
<smbconfsection>tmp</smbconfsection> verwenden.
Sie können solch eine Freigabe durch folgende Zeilen erstellen (siehe <link linkend="tmpshare"/>).
</para>

<para><smbconfexample id="tmpshare">
<title>smb.conf mit [tmp]-Freigabe</title>
<smbconfsection>[tmp]</smbconfsection>
<smbconfoption><name>comment</name><value>temporary files</value></smbconfoption>
<smbconfoption><name>path</name><value>/tmp</value></smbconfoption>
<smbconfoption><name>read only</name><value>yes</value></smbconfoption>
</smbconfexample>
</para>

<note><para>
Diese Tests setzen Samba in der Version 3.0.0 oder später voraus.
Einige der genannten Befehle sind in früheren Samba-Versionen nicht
enthalten.
</para></note>

<para>
Bitte schenken Sie den gemeldeten Fehlermeldungen Ihre Aufmerksamkeit.
Sollten Sie eine Fehlermeldung erhalten, dass Ihr Server <quote>unfriendly</quote>
wäre, überprüfen Sie bitte, ob Ihre IP-Namensauflösung korrekt eingestellt
ist.
Stellen Sie sicher, dass in der Datei
<filename>/etc/resolv.conf</filename> ein korrekter Nameserver
eingetragen wurde.
</para>

<para>
Sollten Sie keinen DNS-Server einsetzen, überprüfen Sie, ob Ihre
&smb.conf; die Zeile <command>dns proxy = no</command> enthält.
Der beste Weg, das zu überprüfen, ist der Befehl <command>testparm smb.conf</command>.
</para>


<para>
<indexterm><primary>Log Dateien</primary><secondary>Überwachung</secondary></indexterm>
Es ist hilfreich, während der Tests die Log-Dateien in einem separaten
Konsolenfenster (mit <quote>Ctrl-Alt-F1</quote> bis <quote>Ctrl-Alt-F6</quote> oder mehrere Fenster in X)
mit Hilfe von <command>tail -F log_file_name</command> zu überwachen.
Die wichtigen Log-Dateien finden Sie (in der Default-Installation) 
unter <filename>/usr/local/samba/var</filename>.
Sie können hier des Weiteren die Verbindunglogs von Computern finden - 
oder evtl. auch in <filename>/var/log/samba</filename>, je nachdem, wie Sie es in
&smb.conf; angegeben haben.
</para>

<para>
Sollten Sie während der Tests Änderungen an der &smb.conf; durchführen,
vergessen Sie bitte nicht, &smbd; und &nmbd; neu zu starten.
</para>

</sect1>

<sect1>
<title>Die Tests</title>
<procedure>
<title>Diagnose Ihres Samba-Servers</title>


<step performance="required">
<para>
<indexterm><primary>testparm</primary></indexterm>
Rufen Sie im Verzeichnis Ihrer &smb.conf; 
den Befehl <command>testparm smb.conf</command> auf. Werden Fehler
angezeigt, ist Ihre &smb.conf; nicht in Ordnung.
</para>

<note><para>
Ihre &smb.conf; sollte in <filename>/etc/samba</filename> oder in
<filename>/usr/local/samba/lib</filename> zu finden sein.
</para></note>
</step>

<step performance="required">
<para>
Führen Sie auf Ihrem PC den Befehl <command>ping BIGSERVER</command> und 
auf Ihrem Unix-Server den Befehl <command>ping ACLIENT</command> 
aus. Erhalten Sie keine gültige Antwort, so ist TCP/IP nicht korrekt
eingerichtet.
</para>

<para>
Sie müssen an Ihrem PC eine <quote>DOS-Eingabeaufforderung</quote>
öffnen, um den Befehl ping auszuführen.
</para>

<para>
Erhalten Sie eine Meldung in der Art von <quote><errorname>host not found</errorname></quote>,
dann ist Ihre DNS-Konfiguration oder die Datei
<filename>/etc/hosts</filename> nicht in Ordnung. Es ist möglich, Samba
ohne DNS-Einträge für den Server oder die Clients zu betreiben, aber es
wird für die weiteren Tests davon ausgegangen, dass diese Einträge
korrekt sind.
</para>

<para>
Eine weitere Möglichkeit, warum ein ping nicht funktioniert, ist eine
vorhandene Firewall. Sie müssen die Regeln der Firewall dahingehend
anpassen, dass Sie die Workstation evtl. von einem anderen Subnetz aus 
zugreifen lassen können. 
Unter Linux können Sie dies mit den Firewall-Programmen
<command>ipchains</command> oder <command>iptables</command>
durchführen.
</para>

<note>
<para>
Moderne Linux-Distributionen installieren per Default ipchains/iptables.
Das ist ein gängiges Problem und wird häufig übersehen.
</para>
</note>

<para>
Möchten Sie die Firewall-Regeln des Testsystems überprüfen, rufen Sie
einfach 
<command>iptables -L -v</command> oder bei <parameter>ipchains</parameter>-basierenden Firewalls 
<command>ipchains -L -v</command> auf.
</para>

<para>
Das Folgende ist eine Beispielausgabe eines System mit einer externen
Ethernet-Schnittstelle (eth1), an der Samba nicht aktiv ist, und einer
internen (privates Netzwerk) Ethernet-Schnittstelle (eth0), an der Samba aktiv
ist.
<screen>
frodo:~ # iptables -L -v
Chain INPUT (policy DROP 98496 packets, 12M bytes)
 pkts bytes target     prot opt in     out     source     destination
 187K  109M ACCEPT     all  --  lo     any     anywhere   anywhere
 892K  125M ACCEPT     all  --  eth0   any     anywhere   anywhere
1399K 1380M ACCEPT     all  --  eth1   any     anywhere   anywhere  \
					state RELATED,ESTABLISHED

Chain FORWARD (policy DROP 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source     destination
 978K 1177M ACCEPT     all  --  eth1   eth0    anywhere   anywhere \
					state RELATED,ESTABLISHED
 658K   40M ACCEPT     all  --  eth0   eth1    anywhere   anywhere
    0     0 LOG        all  --  any    any     anywhere   anywhere \
					LOG level warning

Chain OUTPUT (policy ACCEPT 2875K packets, 1508M bytes)
 pkts bytes target     prot opt in     out     source     destination

Chain reject_func (0 references)
 pkts bytes target     prot opt in     out     source     destinat
</screen>
</para>

</step>

<step performance="required">
<para>
Führen Sie auf Ihrer Unix-Maschine den Befehl <command>smbclient -L BIGSERVER</command> aus.
Sie sollten eine Liste der verfügbaren Freigaben erhalten.
</para>

<para>
Sollten Sie die Meldung <quote>Bad password</quote> erhalten, so dürfte
es sich um einen falschen Eintrag bei <parameter>hosts allow</parameter>,
<parameter>hosts deny</parameter> oder <parameter>valid users</parameter>
in Ihrer &smb.conf; handeln, oder der <smbconfoption><name>guest account</name></smbconfoption> ist nicht gültig.

Überprüfen Sie mit &testparm; Ihren <smbconfoption><name>guest account</name></smbconfoption>, und entfernen Sie
testweise alle <parameter>hosts allow</parameter>-, <parameter>hosts
deny</parameter>-, <parameter>valid users</parameter>- oder
<parameter>invalid users</parameter>-Einträge.
</para>

<para>
Erhalten Sie eine Meldung <quote><errorname>connection refused</errorname></quote>, dann 
läuft der <command>smbd</command>-Prozess nicht.
Haben Sie diesen in <filename>inetd.conf</filename> eingetragen, so
stimmt evtl. dieser Eintrag nicht.
Haben Sie diesen als Daemon installiert, überprüfen Sie mit
<command>netstat -a</command>, ob dieser gestartet ist und ob 
der netbios-ssn-Port den Status LISTEN hat.
</para>

<note><para>
<indexterm><primary>inetd</primary></indexterm>
<indexterm><primary>xinetd</primary><see>inetd</see></indexterm>
Einige UNIX/Linux-Systeme verwenden <command>xinetd</command> anstelle
von <command>inetd</command>. Lesen Sie in Ihrer System-Dokumentation
die Infos über die entsprechende Implementation Ihres Netzwerk-Super-Daemons nach.
</para></note>

<para>
Erhalten Sie die Meldung <quote><errorname>session request
failed</errorname></quote>, dann lehnt der Server eine Verbindung ab.
Lautet die Information <quote>Your server software is being unfriendly</quote>,
dann könnten Sie wahrscheinlich einen falschen Startparameter für
&smbd; angegeben haben oder es besteht ein ähnliches grundsätzliches
Problem beim Starten von &smbd;.

Testen Sie mit &testparm; Ihre Config-Datei (&smb.conf;) 
auf Syntax-Fehler und darauf, dass die diversen Log- und Lock-Verzeichnisse von
Samba vorhanden sind.
</para>

<para>
Es gibt eine Menge von Gründen dafür, dass smbd eine Verbindung ablehnt oder
verweigert. Die häufigsten Gründe dürften an folgenden Einträgen in der
&smb.conf; liegen (siehe <link linkend="modif1"/>).
</para>


<para>
<smbconfexample id="modif1">
	<title>Konfiguration für erlaubte Verbindungen eines bestimmten Subnetzes</title>
<smbconfsection>[globals]</smbconfsection>
<member>...</member>
<smbconfoption><name>hosts deny</name><value>ALL</value></smbconfoption>
<smbconfoption><name>hosts allow</name><value>xxx.xxx.xxx.xxx/yy</value></smbconfoption>
<smbconfoption><name>interfaces</name><value>eth0</value></smbconfoption>
<smbconfoption><name>bind interfaces only</name><value>Yes</value></smbconfoption>
<member>...</member>
</smbconfexample>
</para>

<para>
Im obigen Beispiel werden keinerlei Verbindungsanforderungen erlaubt, da
diese durch die Adresse des Loopback-Devices 127.0.0.1 ersetzt werden.
Um das Problem zu lösen, ändern Sie die folgenden Zeilen in <link linkend="modif2"/>
</para>

<para>
<smbconfexample id="modif2">
	<title>Konfiguration für erlaubte Verbindungen eines bestimmten Subnetzes und von localhost</title>
<smbconfsection>[globals]</smbconfsection>
<member>...</member>
<smbconfoption><name>hosts deny</name><value>ALL</value></smbconfoption>
<smbconfoption><name>hosts allow</name><value>xxx.xxx.xxx.xxx/yy 127.</value></smbconfoption>
<smbconfoption><name>interfaces</name><value>eth0 lo</value></smbconfoption>
<member>...</member>
</smbconfexample>
</para>

<para>
<indexterm><primary>inetd</primary></indexterm>
Eine weitere oft vorkommende Ursache dieser zwei Fehlermeldungen ist ein
bereits laufender <indexterm><primary>smbclient</primary></indexterm> an
Port <constant>139</constant>, etwa ein durch <application>inetd</application> 
gestarteter Samba-Daemon &smbd; oder etwas Vergleichbares wie 
Digital's Pathworks. Überprüfen Sie daher vor dem Start von &smbd; als
Daemon Ihre <filename>inetd.conf</filename>, um eine Menge Frustration zu
vermeiden.
</para>

<para>
Eine weitere mögliche Ursache für ein Scheitern dieses Tests besteht
darin, dass die Subnetz-Maske und/oder die Broadcast-Adresse nicht
korrekt ist. Bitte überprüfen Sie daher die korrekte Broadcast/Subnetz-
Maske Ihres Netzwerkinterfaces und stellen Sie sicher, dass Samba diese Einstellungen in der
<filename>log.nmbd</filename>-Datei bestätigt.
</para>

</step>

<step performance="required">

<para>
Führen Sie den Befehl <command>nmblookup -B BIGSERVER __SAMBA__</command> aus.
Sie sollten die IP-Adresse Ihres Samba-Servers gemeldet bekommen.
</para>

<para>
Wenn nicht, ist nmbd nicht korrekt installiert. Überprüfen Sie Ihre
<filename>inetd.conf</filename>, wenn er durch inetd gestartet wird, oder
dass er als Daemon läuft und am UDP-Port 137 lauscht.
</para>

<para>
Ein häufiges Problem sind inetd-Implementationen, die nicht mehrere
Parameter auf der Kommandozeile verarbeiten können.
Ist das bei Ihnen der Fall, erstellen Sie ein einzeiliges Skript mit den
richtigen Parametern, und starten Sie dieses durch inetd.
</para>

</step>

<step performance="required">

<para>
Starten Sie den Befehl <command>nmblookup -B ACLIENT '*'</command>.
</para>

<para>
Sie sollten die IP-Adresse Ihres PCs erhalten. Wenn nicht, ist auf Ihrem
PC die Software nicht richtig installiert, konfiguriert oder nicht
gestartet oder Sie haben den Namen des PCs falsch eingegeben.
</para>

<para>
Sollte ACLIENT keine DNS-Namensauflösung verwenden, dann benutzen Sie
die IP-Adresse des Clients für den oben genannten Test.
</para>

</step>

<step performance="required">

<para>
Starten Sie den Befehl <command>nmblookup -d 2 '*'</command>.
</para>

<para>
Dieses Mal versuchen wir dasselbe wie im vorigen Test, verwenden
aber einen Broadcast über die Default-Broadcast-Adresse. Es sollten
mehrere NetBios/TCP/IP-Rechner im Netzwerk antworten, obwohl Samba nicht
alle Anworten in der kurzen Zeit erwischen kann. Sie sollten folgende
Meldungen von diversen Hosts sehen: <quote><errorname>got a positive name query response</errorname></quote>.
</para>

<para>
Sollten hier nicht die gleichen Ergebnisse wie im vorangegangenen Test
erscheinen, dann erkennt nmblookup die korrekte Broadcast-Adresse nicht
automatisch.
In diesem Fall sollten Sie in &smb.conf; bei der
<smbconfoption><name>interfaces</name></smbconfoption>-Option versuchen, die IP-Adresse,
Broadcast-Adresse und Netzwerkmaske von Hand einzustellen.
</para>

<para>
Befinden sich Ihr PC und Server in verschiedenen Subnetzen, benötigen Sie die
<option>-B</option>-Option, um die Broadcast-Adresse des PC-Netzwerks zu
benutzen.
</para>

<para>
Dieser Test kann möglicherweise fehlschlagen, wenn Ihre Subnetz-Maske
und Broadcast-Adresse nicht korrekt sind. (Siehe die Anmerkungen zu TEST 3).
</para>

</step>

<step performance="required">


<para>
<indexterm><primary>smbclient</primary></indexterm>
Führen Sie folgenden Befehl aus:  <command>smbclient //BIGSERVER/TMP</command>.
Sie sollten nach einem Passwort gefragt werden. Verwenden Sie das Passwort
Ihres aktuellen Accounts auf der Unix-Maschine. Möchten Sie den Test mit
einem anderen Account durchführen, fügen Sie die Option <option>-U accountname</option>
am Ende des Befehls hinzu, zum Beispiel <command>smbclient //bigserver/tmp -Ujohndoe</command>.
</para>

<note><para>
Es ist folgendermaßen möglich, das Passwort zusammen mit dem 
Benutzernamen zu verwenden: <command>smbclient //bigserver/tmp -Ujohndoe%secret</command>.
</para></note>

<para>
Wenn Sie das Passwort eingegeben haben, erhalten Sie die
<prompt>smb></prompt>-Eingabeauforderung. Wenn nicht, beachten Sie die
Fehlermeldung. Steht dort <quote><errorname>invalid network name</errorname></quote>,
dann wurde die Freigabe <smbconfsection>tmp</smbconfsection> nicht korrekt 
in der &smb.conf; eingetragen.
</para>

<para>
Steht dort <quote><errorname>bad password</errorname></quote>, dann
könnte dies folgende Ursachen haben:
</para>

<orderedlist>
<listitem>
	<para>
	Sie verwenden Shadow-Passwörter (oder ein anderes Passwort-System), haben aber keinen Support dafür in &smbd;
	einkompiliert.
	</para>
</listitem>

<listitem>
	<para>
	Ihr <smbconfoption><name>valid users</name></smbconfoption>-Eintrag ist nicht korrekt.
	</para>
</listitem>

<listitem>
	<para>
	Sie verwenden Groß-/Kleinschreibung im Passwort und haben die Option 
	<smbconfoption><name>password level</name></smbconfoption>-
	 nicht dementsprechend angepasst.
	</para>
</listitem>

<listitem>
	<para>
	Der <smbconfoption><name>path</name></smbconfoption>-Eintrag in
	&smb.conf; ist falsch. Überprüfen Sie dies mit &testparm;.
	</para>
</listitem>

<listitem>
	<para>
	Sie haben die Passwortverschlüsselung aktiviert, aber keine Unix-Benutzer
	zu Samba-Benutzern zugeordnet (gemappt).
	Starten Sie <command>smbpasswd -a username</command>.
	</para>
</listitem>
</orderedlist>

<para>
Nachdem Sie verbunden sind, sollte es Ihnen möglich sein, die Befehle
<command>dir</command>, <command>get</command>, <command>put</command>
und so weiter aufzurufen. Näheres erfahren Sie durch <command>help command</command>.
Sie sollten besonders die Anzeige des freien Festplattenplatzes mit
<command>dir</command> überprüfen.
</para>

</step>

<step performance="required">

<para>
Führen Sie auf Ihrem PC in einer DOS-Eingabeaufforderung (DOS-Fenster) den Befehl <command>net view \\BIGSERVER</command> aus.
Sie sollten eine Liste der verfügbaren Freigaben Ihres Servers erhalten.
</para>

<para>
Erhalten Sie eine Meldung in der Art <quote><errorname>network name not
found</errorname></quote>, dann funktioniert Ihre netbios-Namensauflösung nicht. Das ist überlicherweise ein Problem mit
<command>nmbd</command>. Um das zu beheben, verwenden Sie eine der
folgenden Möglichkeiten:
</para>

<orderedlist>
<listitem><para>
	Korrigieren Sie die Installation von &nmbd;.
</para></listitem>

<listitem><para>
	Fügen Sie die IP-Adresse von BIGSERVER zu den Einträgen des Felds
	<command>wins server</command> in der erweiterten TCP/IP-
	Konfiguration Ihres PCs hinzu.
</para></listitem>

<listitem><para>
	Aktivieren Sie die Windows-Namensauflösung über DNS in der
	erweiterten Konfiguration des TCP/IP-Setups Ihres PCs.
</para></listitem>

<listitem><para>
	Fügen Sie den Eintrag BIGSERVER zu Ihrer <filename>lmhosts</filename>-Datei auf dem
	PC hinzu.
</para></listitem>
</orderedlist>

<para>
Erhalten Sie die Meldung <quote><errorname>invalid network name</errorname></quote> 
oder <quote><errorname>bad password error</errorname></quote>,
dann führen Sie dieselben Maßnahmen wie für die vorangegangenen 
<command>smbclient -L</command>-Tests durch.
Achten Sie besonders darauf, ob die Einträge in <command>hosts allow</command> 
richtig sind (siehe die Manpages).
</para>

<para>
Vergessen Sie bitte nicht, dass die Verbindungsanforderung von Ihrem PC
zum Samba-Server immer mit dem aktuellen Benutzernamen Ihres angemeldeten
Windows-Benutzers durchgeführt wird.
Sie müssen sicherstellen, dass genau dieser Benutzeraccount mit demselben Kennwort auch auf Ihrem Samba-Server existiert.
</para>

<para>
Erhalten Sie eine Meldung in der Art <quote><errorname>specified computer is not receiving requests</errorname></quote>
, dann bedeutet dies vermutlich, dass der Computer nicht über TCP angesprochen werden
kann. Wenn Ihr Computer TCP-Wrapper einsetzt, fügen Sie für den Client
(oder das Subnetz usw.) einen Eintrag in die Datei <filename>hosts.allow</filename> hinzu.
</para>

</step>

<step performance="required">

<para>
Starten Sie den Befehl: <command>net use x: \\BIGSERVER\TMP</command>.
Sie sollten nach einem Passwort gefragt werden und nach dessen Eingabe
die Meldung <computeroutput>command completed successfully</computeroutput> erhalten. 
Sollte das nicht der Fall sein, ist Ihr PC nicht
korrekt installiert oder die Datei &smb.conf; ist nicht in Ordnung.
Stellen Sie sicher, dass die Einträge in <parameter>hosts allow</parameter> korrekt sind 
und die restlichen Einträge in &smb.conf; stimmen.
</para>

<para>
Es ist auch möglich, dass der Server nicht erkennen kann, unter welchem
Namen Sie sich verbinden.
Um das Problem zu erkennen, fügen Sie die Zeile
<smbconfoption><name>user</name><value>username</value></smbconfoption>
im <smbconfsection>[tmp]</smbconfsection>-Abschnitt der &smb.conf;
hinzu, wobei <parameter>username</parameter> der Benutzername zum
eingegebenen Passwort sein muss. Wenn dass klappt, benötigen Sie die Option 
<smbconfoption><name>username mapping</name></smbconfoption>. 
</para>

<para>
Es ist auch möglich, dass Ihr Client nur verschlüsselte Passwörter
versendet, aber der Eintrag <smbconfoption><name>encrypt
passwords</name><value>no</value></smbconfoption> in der &smb.conf;
steht.
Ändern Sie diesen auf <quote>yes</quote>, um das Problem zu beheben.
</para>

</step>

<step performance="required">

<para>
Führen Sie den Befehl <command>nmblookup -M <parameter>testgroup</parameter></command>
aus, wobei <parameter>testgroup</parameter> der Name der Arbeitsgruppe
Ihres Samba-Servers und Ihrer Windows-PCs ist. Sie sollten die IP-Adresse des Masterbrowsers für diese Arbeitsgruppe erhalten.
</para>

<para>
Wenn nicht, dann ist der Auswahlprozess des Masterbrowsers fehlgeschlagen. 
Warten Sie evtl. noch ein paar Minuten, und versuchen Sie es dann nochmal, um zu sehen, ob
es nur etwas langsam ist. Klappt es dann immer noch nicht, werfen Sie
einen Blick auf die Browsing-Optionen in der &smb.conf;.
Stellen Sie sicher, dass Sie <smbconfoption><name>preferred master</name><value>yes</value></smbconfoption>
eingetragen haben, damit beim Starten eine Wahl des Masterbrowsers
durchgeführt wird.
</para>

</step>

<step performance="required">

<para>
Durchsuchen Sie Ihre Netzwerkumgebung mit Ihrem Windows Explorer/Dateimanager.
Ihr Samba-Server sollte in der Netzwerkumgebung unter Ihrer lokalen Arbeitsgruppe
(oder der Arbeitsgruppe, die Sie in der &smb.conf; eingetragen haben) erscheinen.
Es müsste Ihnen möglich sein, durch einen Doppelklick auf den Namen des
Servers die Liste der Freigaben zu erhalten.
Erhalten Sie eine Fehlermeldung <quote>invalid password</quote>, dann
verwenden Sie möglicherweise Windows NT, denn NT öffnet keinen Server, der
keine verschlüsselten Passwörter unterstützt und sich im User-Level-Security-Modus befindet.
In diesem Fall tragen Sie 
<smbconfoption><name>security</name><value>server</value></smbconfoption>
und 
<smbconfoption><name>password server</name><value>Windows_NT_Machine</value></smbconfoption>
in Ihre &smb.conf; ein, oder stellen Sie sicher, dass
<smbconfoption><name>encrypt passwords</name></smbconfoption> auf
<quote>yes</quote> steht.
</para>

</step>
</procedure>
</sect1>

</chapter>
